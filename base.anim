animation square {
  square(size) {
    return <rect :width="size" :height="size" stroke="blue" fill="green"/>
  }

  translate(x,y, tree) {
    return <g :transform="translate(x,y)"> {{ tree() }} </g>
  }

  rotate(amt,  tree) {
    return <g :transform="rotate(amt)"> {{ tree() }} </g>
  }

  sprite = translate(100, 100, rotate(1080 * time, translate(50 -100 , 50 -100, square(100))))

  animate 5s sprite
}

fadeIn(local_percent, tree) {
  return <g :opacity="local_percent"> {{ tree() }} </g>
}

fadeOut(local_percent, tree) {
  local_percent = 1-local_percent
  return <g :opacity="local_percent"> {{ tree() }} </g>
}



sprite = <rect width="100" height="100" stroke="blue" fill="red"/>

animate 1s sprite
play square fadeIn
play square fadeOut
animate 1s sprite
