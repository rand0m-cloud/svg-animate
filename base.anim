square(size) {
  return <rect :width="size" :height="size" stroke="blue" fill="green" />
}

rotate(deg, tree) {
  return <g :transform="rotate(deg)">
   {{ tree() }}
  </g>
}

translate(x,y, tree) {
  return <g :transform="translate(x,y)">
    {{ tree() }}
  </g>
}


fadeIn(local_percent, tree) {
   return <g :opacity="local_percent"> {{ tree() }} </g>
}

fadeOut(local_percent, tree) {
   opacity = 1 - local_percent
   return <g :opacity="opacity"> {{ tree() }} </g>
}

rotateE(local_percent, tree) {
  return rotate(local_percent * 1080, tree)
}

sprite = square(100)

fork animate 3s sprite rotateE
delay 1s
animate 1s sprite fadeIn
animate 1s sprite fadeOut
delay 3s
animate 5s sprite fadeIn
